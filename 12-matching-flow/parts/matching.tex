% matching.tex

%%%%%%%%%%%%%%%
\begin{frame}
  \fig{width = 0.50\textwidth}{figs/get-married}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{exampleblock}{The Marriage Problem (Philip Hall, 1935)}
    If there is a finite set of \red{girls},
    each of whom knows several \blue{boys}, \\[3pt]
    \purple{under what conditions} can all the girls marry boys in such a way that \\[3pt]
    \red{each girl} marries \cyan{a boy} that she knows?
  \end{exampleblock}

  \pause
  \fig{width = 0.25\textwidth}{figs/Hall}
  \begin{center}
    \teal{Philip Hall ($1904 \sim 1982$)}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.40\textwidth}{figs/Hall-X-Y}

  \pause
  \vspace{0.30cm}
  \begin{definition}[Matching (匹配)]
    A \red{matching} in a graph $G$ is a set of edges with \blue{no shared endpoints}.
  \end{definition}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.40\textwidth}{figs/Hall-X-Y}

  \vspace{0.30cm}
  \begin{definition}[$X$-Perfect Matching ($X$-Saturating Matching)]
    {\small Let $G = (X, Y, E)$ be a bipartite graph. \\[3pt]
    An \red{$X$-perfect matching} of $G$ is a \purple{matching}
    which covers each vertex in $X$.}
  \end{definition}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \[
    \card{X} \le \card{Y}
  \]
  \fig{width = 0.40\textwidth}{figs/Hall-X-Y}

  \pause
  \[
    \forall W \subseteq X.\; \card{W} \le \card{N(W)}
  \]
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Hall Theorem; 1935]
    Let $G = (X, Y, E)$ be a bipartite graph.
    There is an \red{$X$-perfect matching} of $G$ \purple{iff}
    \[
      \forall W \subseteq X.\; \card{W} \le \card{N_{G}(W)}
    \]
  \end{theorem}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{By induction on the number $\card{X}$ of vertices in $X$.}

    \pause
    \vspace{0.30cm}
    \begin{description}[<+->][Induction Hypothesis:]
      \setlength{\itemsep}{8pt}
      \item[Basis Step:] $\card{X} = 1$. $\card{X} \le \card{N_{G}(X)}$.
        \uncover<3->{I am married!}
      \item[Induction Hypothesis:]
        Suppose that it holds if $\card{X} \;\red{<}\; m$.
      \item[Induction Step:]
        Consider the case $\card{X} = m$.
    \end{description}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    Consider the case $\card{X} = m$.

    \pause
    \vspace{0.50cm}
    \begin{itemize}
      \item \textsc{Case I:} Every $k < m$ girls in $X$ know
        $\ge k + 1$ boys in $Y$.

        \pause
        \vspace{0.20cm}
        \begin{center}
          \blue{Take any girl $x$ and marry her to any boy $y$ she knows.}
          \pause
          \[
            G' = G - \set{x, y}
          \]
          \pause
          \red{The Hall's Condition still holds for $G'$.}
          \pause
          \[
            \forall W \subseteq X - \set{x}.\; \card{W} \le \card{N_{G'}(W)}
          \]

          \pause
          There is a $(X - \set{x})$-perfer matching in $G'$.

          \pause
          \vspace{0.30cm}
          Therefore, there is a $(X - \set{x})$-perfer matching in $G$.
        \end{center}
    \end{itemize}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{itemize}
    \item \textsc{Case II:} There is a set of $k < m$ girls in $X$
      who know $k$ boys in $Y$.

      \begin{center}
        \pause
        \vspace{0.30cm}
        There $k$ girls can be married \red{by induction} to the $k$ boys.

        \pause
        \[
          G' = G - \set{\text{these $k$ girls}} - \set{\text{these $k$ boys}}
        \]

        \pause
        $G'$ satisfies the Hall's Condition.

        \pause
        \vspace{0.30cm}
        \red{By contradition:} \\[6pt]
        Suppose that in $G'$, there are $l \le m - k$ girls who know $< l$ boys.

        \pause
        \vspace{0.30cm}
        Then, in $G$, there are $k + l$ girls who know $< k + l$ boys.

        \pause
        \vspace{0.50cm}
        There is a $(X - \set{\text{these $k$ girls}})$-perfer matching in $G'$.

        \pause
        \vspace{0.30cm}
        Therefore, there is a $(X - \set{x})$-perfer matching in $G$.
      \end{center}
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Hall Theorem; 1935]
    Let $G = (X, Y, E)$ be a bipartite graph.
    There is a \red{$X$}-perfect matching of $G$ \purple{iff}
    \[
      \forall W \subseteq X.\; \card{W} \le \card{N_{G}(W)}
    \]
  \end{theorem}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{definition}[$M$-alternating Paths]
    Let $M$ be a matching.
    An \red{$M$-alternating path} is a path that alternates
    between edges in $M$ and edges not in $M$.
  \end{definition}

  \vspace{0.80cm}
  \fig{width = 0.80\textwidth}{figs/M-augmenting-path}

  \pause
  \vspace{0.60cm}
  \begin{definition}[$M$-augmenting Paths]
    An \red{$M$-augmenting path} is an \blue{$M$-alternating path}
    whose endpoints are \blue{unsaturated} by $M$.
  \end{definition}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{By contradiction.}

    \pause
    \vspace{0.30cm}
    Suppose that there is \red{\it no} $X$-perfect matching.

    \pause
    \vspace{0.20cm}
    We show that Hall's Condition is violated for \blue{some} $S \subseteq X$.

    \pause
    \fig{width = 0.70\textwidth}{figs/Hall-Proof}

    \pause
    Let $M$ be a \purple{\it maximum} matching.

    \pause
    \vspace{0.20cm}
    Let $u \in X$ be a vertex of $X$ not saturated by $M$.

    \pause
    \vspace{0.20cm}
    Consider all \violet{\it $M$-alternating paths} starting from $u$.
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.70\textwidth}{figs/Hall-Proof}

    \vspace{0.50cm}
    $T \triangleq$ the set of vertices in $Y$ reachable from $u$ by $M$-alternating paths.

    \pause
    \vspace{0.20cm}
    $S \triangleq$ the set of vertices in $X$ reachable from $u$ by $M$-alternating paths.

    \pause
    \vspace{0.60cm}
    We will show that
    \[
      \blue{T = N(S) \land \card{T} = \card{S - \set{u}}}
    \]
    \pause
    \[
      \red{\card{N(S)} = \card{T} = \card{S} - 1 < \card{S}}
    \]
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \[
      \blue{\card{T} = \card{S - \set{u}}}
    \]
    \fig{width = 0.70\textwidth}{figs/Hall-Proof}

    \pause
    \vspace{0.30cm}
    We show that there is a bijection from $T$ to $S - \set{u}$.

    \pause
    \vspace{0.30cm}
    $M$ matches $T$ with $S - \set{u}$.
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \[
      \blue{T = N(S)}
    \]
    \fig{width = 0.70\textwidth}{figs/Hall-Proof}
    \pause
    \[
      \card{T} = \card{S - \set{u}} \implies T \subseteq N(S)
    \]

    \pause
    \[
      \blue{\text{We need to show that } N(S) \subseteq T}
    \]

    \pause
    \begin{center}
      Consider the neighbors of $x \in S$: \pause
      $x = u, \pause\quad x \in S - \set{u}$
    \end{center}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{definitions}[Vertex Cover (点覆盖)]
    A \red{vertex cover} of a graph $G$ is a set $Q \subseteq V(G)$
    that \blue{covers} all edges.
  \end{definitions}

  \fig{width = 0.35\textwidth}{figs/vertex-color-eyes}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.70\textwidth}{figs/Matching-VC}

  \pause
  \fig{width = 0.35\textwidth}{figs/PetersenGraph}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{theorem}[Weak Duality Theorem (弱对偶定理)]
    Let $G$ be a graph.
    The maximum size of a mathching in $G$ \\
    \red{$\le$} the minimum size of a vertex cover of $G$.
  \end{theorem}

  \pause
  \fig{width = 0.50\textwidth}{figs/Konig-theorem}

  \pause
  \begin{theorem}[K\"{o}nig (1931), Egerv\'{a}ry (1931)]
    Let $G$ be a \red{bipartite} graph.
    The maximum size of a mathching in $G$ \\
    \red{equals} the minimum size of a vertex cover of $G$
  \end{theorem}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{Given a vertex cover $Q$, we construct a matching $M$ of the same size.}
  \end{center}

  \pause
  \fig{width = 0.80\textwidth}{figs/Konig-theorem-West}

  \pause
  \[
    R = Q \cap X \qquad T = Q \cap Y
  \]

  \pause
  \[
    H \triangleq (R \cup (Y - T))\text{-induced subgraph of } G
  \]
  \[
    H' \triangleq (T \cup (X - R))\text{-induced subgraph of } G
  \]

  \pause
  \begin{center}
    $G$ has no edges from $X - R$ to $Y - T$.

    \pause
    \vspace{0.30cm}
    \blue{\fbox{$H$ has a $R$-perfect matching and $H'$ has a $T$-perfect matching.}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \blue{\fbox{$H$ has a $R$-perfect matching and $H'$ has a $T$-perfect matching.}}
    \fig{width = 0.80\textwidth}{figs/Konig-theorem-West}

    \pause
    \red{By contradition.}

    \pause
    \vspace{0.30cm}
    $\exists S \subseteq R.\; \card{N_{H}(S)} < \card{S}$

    \pause
    \[
      T \cup (R \;\red{-\; S + N_{H}(S)}) \text{ is a smaller vertex cover than } Q
    \]
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%g